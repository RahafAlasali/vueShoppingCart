"use strict";(self["webpackChunkvueShoppingCart"]=self["webpackChunkvueShoppingCart"]||[]).push([[76],{9076:function(t,e,i){i.r(e),i.d(e,{default:function(){return M}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-3"},[e("div",{staticClass:"text-h4 mb-2 primary--text",staticStyle:{"font-weight":"bold"}},[t._v(" Products ")]),e("create-product",{attrs:{showDialog:t.dialogCreate},on:{colseDialogCreate:function(e){t.dialogCreate=!1}}}),e("edit-product",{attrs:{product:t.prodItem,showDialog:t.dialog},on:{colseDialog:function(e){t.dialog=!1}}}),e("Delete",{attrs:{showDialog:t.dialogDelete},on:{delete:()=>t.confirmDelete(),colseDialog:function(e){t.dialogDelete=!1}}}),e("data-table",{on:{edit:t.editItem,delete:t.deleteItem,create:t.createItem}})],1)},s=[],o=i(375),r=i(1689),l=i(8834),n=i(1526),d=i(6278),c=i(4155),u=i(8230),p=i(8412),h=i(1556),g=i(7410),m=i(3406),f=i(3507);const v=(0,f.A)(m.A);var y=v.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...m.A.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=m.A.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){m.A.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),A=function(){var t=this,e=t._self._c;return e("div",[e(c.A,{attrs:{persistent:"","max-width":"500px","hide-overlay":""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e(r.A,[e(l.ri,[e("span",{staticClass:"text-h5"},[t._v("Edit Product")])]),e(l.OQ,[e(d.A,[e(u.A,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(p.A,[e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(m.A,{attrs:{dense:"",label:"Title",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.prod.title,callback:function(e){t.$set(t.prod,"title",e)},expression:"prod.title"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(h.A,{attrs:{dense:"",items:t.categories,rules:[e=>!!e||t.$t("fieldRequired")],label:"Category",outlined:""},model:{value:t.prod.category,callback:function(e){t.$set(t.prod,"category",e)},expression:"prod.category"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(m.A,{attrs:{dense:"",type:"number",label:"Price",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.prod.price,callback:function(e){t.$set(t.prod,"price",e)},expression:"prod.price"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(y,{attrs:{outlined:"",label:"Descriptiona",rules:[e=>!!e||t.$t("fieldRequired")]},model:{value:t.prod.description,callback:function(e){t.$set(t.prod,"description",e)},expression:"prod.description"}})],1)],1)],1)],1)],1),e(l.SL,[e(g.A),e(o.A,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.closeDialog()}}},[t._v(" Cancel ")]),e(o.A,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v(" Save ")])],1)],1)],1)],1)},x=[],b=i(5353),w={name:"product-edit",props:{product:{type:Object},showDialog:{type:Boolean,required:!0}},emits:["colseDialog"],data(){return{loading:!1,valid:!0,prod:{}}},computed:{...(0,b.aH)("core",["categories"])},watch:{product:{handler:function(t){Object.assign(this.prod,t)}}},methods:{...(0,b.i0)("core",["getCategories","editProduct"]),closeDialog(){this.$emit("colseDialog")},save(){const t=this.$refs.form.validate();if(t){this.loading=!0;const t={...this.product,...this.prod};this.editProduct({id:this.product.id,product:t}),this.$emit("colseDialog"),this.loading=!1,this.$toast.success("successfully")}}},mounted(){this.getCategories()}},C=w,$=i(1656),k=(0,$.A)(C,A,x,!1,null,null,null),D=k.exports,_=i(2749),P=function(){var t=this,e=t._self._c;return e("div",[e(c.A,{attrs:{"max-width":"500px","hide-overlay":"",persistent:""},model:{value:t.$props.showDialog,callback:function(e){t.$set(t.$props,"showDialog",e)},expression:"$props.showDialog"}},[e(r.A,[e(l.ri,[e("span",{staticClass:"text-h5"},[t._v("Create Products")])]),e(l.OQ,[e(d.A,[e(u.A,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(p.A,[e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(m.A,{attrs:{dense:"",label:"Title",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(h.A,{attrs:{dense:"",items:t.categories,label:"Category",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(m.A,{attrs:{dense:"",type:"number",label:"Price",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),e(n.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(y,{attrs:{outlined:"",label:"Description",rules:[e=>!!e||t.$t("fieldRequired")]},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1)],1)],1)],1),e(l.SL,[e(g.A),e(o.A,{attrs:{color:"blue darken-1",text:""},on:{click:t.cancel}},[t._v(" Cancel ")]),e(o.A,{attrs:{type:"submit",color:"blue darken-1",loading:t.loading,text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},I=[],B={props:["showDialog"],emits:["colseDialogCreate"],data(){return{product:{title:null,description:null,price:null,image:"https://i.pravatar.cc",category:null},valid:!0,loading:!1}},computed:{...(0,b.aH)("core",["categories"])},methods:{...(0,b.i0)("core",["addProduct","getCategories"]),cancel(){this.$emit("colseDialogCreate"),this.$refs.form.reset()},save(){const t=this.$refs.form.validate();t&&(this.loading=!0,this.addProduct(this.product),this.$emit("colseDialogCreate"),this.loading=!1,this.$refs.form.reset(),this.$toast.success("Added successfully"))}},mounted(){this.getCategories()}},H=B,R=(0,$.A)(H,P,I,!1,null,null,null),S=R.exports,z=i(3882),V=i(708),q=i(9456),G=i(3635),T=function(){var t=this,e=t._self._c;return e("div",[e(V.A,{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.products,page:t.page,"items-per-page":t.itemsPerPage,"hide-default-footer":"",loading:t.loading,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex justify-space-between align-center pa-4"},[e("div",[e(m.A,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("div",[e(o.A,{staticClass:"mb-2 pa-2",attrs:{color:"primary",dark:""},on:{click:t.Create}},[t._v(" Add ")])],1)])]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[e(q.A,{staticClass:"mr-2",attrs:{small:""},on:{click:()=>t.edit(i)}},[t._v(" mdi-pencil ")]),e(q.A,{attrs:{small:""},on:{click:()=>t.Delete(i.id)}},[t._v(" mdi-delete ")])]}},{key:"item.category",fn:function({item:i}){return[e(z.A,{staticClass:"primary--text",staticStyle:{background:"#69a49e8a"},attrs:{dark:""}},[t._v(" "+t._s(i.category)+" ")])]}}])}),e("div",{staticClass:"text-center pt-2"},[e(G.A,{attrs:{"total-visible":"",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)},E=[],N={emits:["delete","edit","create"],data(){return{headers:[{text:"id",value:"id",align:"center"},{text:"Title",value:"title",align:"center",width:"500px"},{text:"Price",value:"price",align:"center"},{text:"Category",value:"category",align:"center"},{text:"Actions",value:"actions",sortable:!1}],search:null,loading:!1,page:1,pageCount:0,itemsPerPage:8}},methods:{...(0,b.i0)("core",["getProducts","deleteProduct"]),Delete(t){this.$emit("delete",t)},edit(t){this.$emit("edit",t)},Create(){this.$emit("create")},async getProductsArray(){this.loading=!0,await this.getProducts(),this.loading=!1}},computed:{...(0,b.aH)("core",["products"])},mounted(){this.getProductsArray()}},O=N,j=(0,$.A)(O,T,E,!1,null,null,null),F=j.exports,L={name:"products",components:{EditProduct:D,Delete:_.A,CreateProduct:S,DataTable:F},data(){return{id:null,prodItem:null,dialog:!1,dialogDelete:!1,dialogCreate:!1}},methods:{...(0,b.i0)("core",["deleteProduct"]),confirmDelete(){this.deleteProduct(this.id),this.$toast.success("Deleted successfully"),this.dialogDelete=!1},editItem(t){console.log(t,"item"),this.prodItem=t,this.dialog=!0},deleteItem(t){this.dialogDelete=!0,this.id=t},createItem(){this.dialogCreate=!0}}},Q=L,K=(0,$.A)(Q,a,s,!1,null,null,null),M=K.exports},8230:function(t,e,i){i(4114);var a=i(3507),s=i(4765),o=i(8652),r=i(6960);e.A=(0,a.A)(s.A,(0,o.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))})):i.valid=e(t),i},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const i=this.watchers.find((t=>t._uid===e._uid));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},(0,r.$c)(this))}})}}]);
//# sourceMappingURL=76.f780205f.js.map