"use strict";(self["webpackChunkvueShoppingCart"]=self["webpackChunkvueShoppingCart"]||[]).push([[486],{5486:function(t,e,i){i.r(e),i.d(e,{default:function(){return O}});var s=i(375),a=i(3882),o=i(708),r=i(9456),l=i(3635),n=i(3406),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-3"},[e("create-product",{attrs:{showDialog:t.dialogCreate},on:{colseDialogCreate:function(e){t.dialogCreate=!1}}}),e("edit-product",{attrs:{productEdit:t.prodItem,showDialog:t.dialog},on:{colseDialog:function(e){t.dialog=!1}}}),e("Delete",{attrs:{showDialog:t.dialogDelete},on:{delete:()=>t.confirmDelete(),colseDialog:function(e){t.dialogDelete=!1}}}),e("div",{staticClass:"text-h4 mb-2"},[t._v("Products")]),e(o.A,{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.products,page:t.page,"items-per-page":t.itemsPerPage,"hide-default-footer":"",loading:t.loading,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex justify-space-between align-center pa-4"},[e("div",[e(n.A,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("div",[e(s.A,{staticClass:"mb-2 pa-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.dialogCreate=!0}}},[t._v(" Add ")])],1)])]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[e(r.A,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),e(r.A,{attrs:{small:""},on:{click:()=>t.deleteItem(i.id)}},[t._v(" mdi-delete ")])]}},{key:"item.category",fn:function({item:i}){return[e(a.A,{staticClass:"primary--text",staticStyle:{background:"#69a49e8a"},attrs:{dark:""}},[t._v(" "+t._s(i.category)+" ")])]}}])}),e("div",{staticClass:"text-center pt-2"},[e(l.A,{attrs:{"total-visible":"",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)},c=[],u=i(1689),p=i(8834),h=i(1526),g=i(6278),m=i(4155),f=i(8230),v=i(8412),y=i(1556),A=i(7410),w=i(3507);const x=(0,w.A)(n.A);var C=x.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...n.A.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=n.A.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){n.A.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),b=function(){var t=this,e=t._self._c;return e("div",[e(m.A,{attrs:{persistent:"","max-width":"500px","hide-overlay":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e(u.A,[e(p.ri,[e("span",{staticClass:"text-h5"},[t._v("Edit Product")])]),e(p.OQ,[e(g.A,[e(f.A,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(v.A,[e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(n.A,{attrs:{dense:"",label:"Title",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(y.A,{attrs:{dense:"",items:t.categories,rules:[e=>!!e||t.$t("fieldRequired")],label:"Category",outlined:""}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(n.A,{attrs:{dense:"",type:"number",label:"Price",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(C,{attrs:{outlined:"",label:"Descriptiona",rules:[e=>!!e||t.$t("fieldRequired")]},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)],1)],1)],1),t._v(" "+t._s(t.$props.productEdit.description)+" "),e(p.SL,[e(A.A),e(s.A,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.closeDialog()}}},[t._v(" Cancel ")]),e(s.A,{attrs:{color:"blue darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v(" Save ")])],1)],1)],1)],1)},$=[],k=i(5353),D={props:["showDialog","productEdit"],emits:["colseDialog"],data(){return{loading:!1,valid:!0,product:this.productEdit,description:this.productEdit.description}},computed:{...(0,k.aH)("core",["categories"]),show(){return this.showDialog},id(){return this.productEdit.id}},methods:{...(0,k.i0)("core",["getCategories","editProduct"]),closeDialog(){this.$emit("colseDialog")},save(){const t=this.$refs.form.validate();t&&(this.loading=!0,this.editProduct({id:this.id,product:this.product}),this.$emit("colseDialog"),this.loading=!1,this.$toast.info("Edit product successfully"))}},mounted(){console.log(this.productEdit.description,"....."),this.getCategories()}},_=D,P=i(1656),I=(0,P.A)(_,b,$,!1,null,null,null),E=I.exports,B=i(2749),H=function(){var t=this,e=t._self._c;return e("div",[e(m.A,{attrs:{"max-width":"500px","hide-overlay":"",persistent:""},model:{value:t.$props.showDialog,callback:function(e){t.$set(t.$props,"showDialog",e)},expression:"$props.showDialog"}},[e(u.A,[e(p.ri,[e("span",{staticClass:"text-h5"},[t._v("Create Products")])]),e(p.OQ,[e(g.A,[e(f.A,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(v.A,[e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(n.A,{attrs:{dense:"",label:"Title",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(y.A,{attrs:{dense:"",items:t.categories,label:"Category",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"6"}},[e(n.A,{attrs:{dense:"",type:"number",label:"Price",rules:[e=>!!e||t.$t("fieldRequired")],outlined:""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),e(h.A,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12"}},[e(C,{attrs:{outlined:"",label:"Description",rules:[e=>!!e||t.$t("fieldRequired")],"hide-details":""},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1)],1)],1)],1),e(p.SL,[e(A.A),e(s.A,{attrs:{color:"blue darken-1",text:""},on:{click:t.createProduct}},[t._v(" Cancel ")]),e(s.A,{attrs:{type:"submit",color:"blue darken-1",loading:t.loading,text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},R=[],z={props:["showDialog"],emits:["colseDialogCreate"],data(){return{product:{title:null,description:null,price:null,image:"https://i.pravatar.cc",category:null},valid:!0,loading:!1}},computed:{...(0,k.aH)("core",["categories"])},methods:{...(0,k.i0)("core",["addProduct","getCategories"]),createProduct(){this.$emit("colseDialogCreate"),this.$refs.form.reset()},save(){const t=this.$refs.form.validate();t&&(this.loading=!0,this.addProduct(this.product),this.$emit("colseDialogCreate"),this.loading=!1,this.$refs.form.reset(),this.$toast.info("Create product successfully"))}},mounted(){this.getCategories()}},S=z,V=(0,P.A)(S,H,R,!1,null,null,null),G=V.exports,q={name:"products",components:{EditProduct:E,Delete:B.A,CreateProduct:G},data(){return{id:null,prodItem:null,loading:!1,page:1,pageCount:0,itemsPerPage:8,dialog:!1,dialogDelete:!1,dialogCreate:!1,title:null,description:null,search:null,headers:[{text:"id",value:"id",align:"center"},{text:"Title",value:"title",align:"center",width:"500px"},{text:"Price",value:"price",align:"center"},{text:"Category",value:"category",align:"center"},{text:"Actions",value:"actions",sortable:!1}]}},computed:{...(0,k.aH)("core",["products"])},methods:{...(0,k.i0)("core",["getProducts","deleteProduct"]),deleteItem(t){this.dialogDelete=!0,this.id=t},editItem(t){this.prodItem=t,this.dialog=!0},confirmDelete(){this.deleteProduct(this.id),this.$toast.info(" product delete successfully"),this.dialogDelete=!1},getProductsArray(){this.loading=!0,this.getProducts(),this.loading=!1}},mounted(){this.getProductsArray()}},T=q,N=(0,P.A)(T,d,c,!1,null,null,null),O=N.exports},8230:function(t,e,i){i(4114);var s=i(3507),a=i(4765),o=i(8652),r=i(6960);e.A=(0,s.A)(a.A,(0,o.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))})):i.valid=e(t),i},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const i=this.watchers.find((t=>t._uid===e._uid));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},(0,r.$c)(this))}})}}]);
//# sourceMappingURL=486.83c4436d.js.map